function io(n){"use strict";
/*! (c) Andrea Giammarchi (ISC) */var e=!1,t=[],o={},r=new URL(n||location.href),c=new WebSocket([r.protocol.replace("http","ws"),"//",r.host,"/pocket.io/"].join(""));c.onopen=function(n){for(i.emit("connect"),e=!0;t.length;)c.send(t.shift())},c.onmessage=function(n){var e=JSON.parse(n.data),t=o[e.type];"connect"===e.type?(i.id=e.data,s(t)):e.data?s(t,e.data):s(t)},c.onerror=function(n){s(o.error,n)},c.onclose=function(n){c=null,s(o.close)};var i={close:function(){return c&&c.close(),i},emit:function(n,o){var r=JSON.stringify({type:n,data:o});return e?c.send(r):t.push(r),i},listeners:function(n){return o[n]||[]},hasListeners:function(n){return 0<i.listeners(n).length},on:function(n,e){return(o[n]||(o[n]=[])).push(e),i},once:function(n,e){var t=o[n]||(o[n]=[]);return t.push(function n(){t.splice(t.indexOf(n),1),e.apply(this,arguments)}),i},off:function(n,e){var t=o[n]||[],r=t.indexOf(e);return-1<r&&t.splice(r,1),i},send:function(n){return i.emit("message",n)}};return i.disconnect=i.close,i;function s(n){(n||[]).forEach(function(n){n.apply(i,this)},[].slice.call(arguments,1))}}